<p>demo:</p>
<div class=row>
    <div class=col>
        <a class="btn btn-success" href="/crud/simplest?table=departements">الاقسام</a>
    </div>

    <div class=col>
        <a class="btn btn-success" href="/crud/simplest?table=jobTitles">الوظائف</a>
    </div>

    <div class=col>
        <a class="btn btn-success" href="/crud/simplest?table=educations">التعليم</a>
    </div>

    <div class=col>
        <a class="btn btn-success" href="/crud/simplest?table=sanctions_reasons">اسباب الجزاء</a>
    </div>
</div>
<div class=row>
    <div class=col>
        <a class="btn btn-success" href="/crud/simplest?table=AK_menu">القائمة</a>
    </div>

    <div class=col>
        <a class="btn btn-success" href="/crud/simplest?table=AK_modules">الوحدات</a>
    </div>

    <div class=col>
        <a class="btn btn-success" href="/crud/simplest?table=AK_forms">النماذج</a>
    </div>

    <div class=col>
        <a class="btn btn-success" href="/crud/simplest?table=AK_fields">الحقول</a>
    </div>
</div>
<div id="form">

</div>
<script>
    let sqlR = `select `
    let sqlC = ``
    let sqlU = ``
    let sqlD = ``;
    let table = "JobTitles";
    /*let columns = ["Id"].map((col) => {
        return col.toLowerCase()
    });*/
    var url = new URL(window.location.href);
    var page = url.searchParams.get("page");

    if (typeof page !== 'object')
    {
        console.log(page);
    } else
    {
        console.log("page not set")
    }
   
    let lines = readSQL(`SELECT *
            FROM AK_simple
            WHERE table_name = '${table}'`)
    const result = Object.groupBy(lines, ({ row_no }) => row_no);
    lines.forEach((e,i)=> {if(i==0)sqlR+=`${e.Col_Name} `; sqlR+=`,${e.Col_Name} `})
    //sqlR+=

    let linesArr=Object.keys(result).map(w=>w=parseInt(w)).sort();
    //console.log(linesArr)
    let htmlForm='<form style="padding:12px;border:1px solid black">'
    for(let i=0;i<linesArr.length;i++)
        {
            htmlForm+='<div class=row>'
                   let row=lines.filter(w=>w.row_no==linesArr[i]);
                   //console.log(row)
                   for(let j=0;j<row.length;j++)
                   {
                    htmlForm+=
                `<div class="${row[i].col_class}">
                    <div id="" class="form-floating mb-3">
                        <input type="${row[i].Col_Type}" class="form-control" id="${row[i].Col_Name}" placeholder="name@example.com">
                        <label for="${row[i].col_title}">${row[i].col_title}</label>
                    </div>
                </div>`;
                     //console.log(j)
                   }  
            htmlForm+='</div>'
        }
        $("#form").html(htmlForm);
</script>
