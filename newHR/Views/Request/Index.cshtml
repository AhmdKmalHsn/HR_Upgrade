<style>
    #loader {
        position: fixed;
        top: 0;
        width: 100%;
        height: 100%;
        display: none;
    }

    #loader_img {
        width: 100%;
        height: 100%;
    }

    
    #tabs-1 .root{
       background-color: rgb(32, 165, 165);
    }
    #tabs-2 .root{
        background-color: rgb(194, 115, 115);
    }
    #tabs-3 .root{
        background-color: rgb(73, 33, 110);
    }
    #tabs-4 .root{
        background-color: rgb(125, 180, 43);
    }*/
</style>

<div class="container">
    <h1> Request</h1>

    <div class="tabs">
        <ul>
            <li><a href="#tabs-1">الاجازات</a></li>
            <li><a href="#tabs-2">مأموريات</a></li>
            <li><a href="#tabs-3">الاضافي</a></li>
            <li><a href="#tabs-4">الجزاءات</a></li>
        </ul>
        <div id="tabs-1">
            <h2>الاجازات</h2>
            <button class="btn btn-success">create</button>
            <div class=root>
                <table class="rootTable display" width=100%>
                    <thead>
                        <tr>
                            <th>id</th>
                            <th>dateFrom</th>
                            <!--th>dateTo</th-->
                            <th>fileNumber</th>
                            <th>Day</th>
                            <th>timeFrom</th>
                            <th>timeTo</th>
                        </tr>
                    </thead>
                </table>
            </div>
        </div>
        <div id="tabs-2">
            <h2>مأموريات</h2>
            <div class=root>
                <a>Negm</a>
                <table class="rootTable">

                </table>
            </div>
        </div>
        <div id="tabs-3">
            <h2>الاضافي</h2>
            <div class=root>
                <a>Negm</a>
                <table class="rootTable">

                </table>
            </div>
        </div>
        <div id="tabs-4">
            <h2>الجزاءات</h2>
            <div class=root>
                <a>Negm</a>
                <table class="rootTable">

                </table>
            </div>
        </div>
    </div>

</div>
<div id="loader"><img id="loader_img" src="~/3.gif"></div>
<div id=myForm>
    <select>
        <option value="vac">اجازة</option>
        <option value="mis">مأمورية</option> 
        <option value="ovt">اضافي</option> 
        <option value="ded">جزاءات</option> 
    </select>
    <div class="card-body" >
        <div class="row">
            <div class="col">Date From</div>
            <div class="col"> <input class="form-control" type="date" name="" id=""></div>
            <div class="col"> Date to</div>
            <div class="col"> <input class="form-control" type="date" name="" id=""></div>
        </div>
        <div class="row">
            <div class="col-6">Time From <input class="form-control" type="time" name="" id=""> </div>
            <div class="col-6">Time To <input class="form-control" type="time" name="" id=""></div>
        </div>
        <div class="row">
            <div class="col-6">Days <input class="form-control" type="number" name="" id=""></div>
        </div>
        <div class="row">
            <div class="col-6"></div><div class="col-6"><input class="btn btn-danger" type="submit" value="submit"></div>
        </div>
    </div>
</div>
<script>
    $(".tabs").tabs();
    

    function getABS(user) {
    }
    var sql1 =
        `declare @@userId int=(select id from ak_users where UserName='${$("#userName").html()}')
        select *,(select id from employees where filenumber=employeeid)'empId' 
        from  Requests
        where requestType=1 --and 
     --(userEmp=@@userId or userHR =@@userId or userMgr=@@userId)`
    var sql2 =
        `select * 
        from Approve a join Requests r on a.id=r.ApproveId
        where requestType=1`
    var data = readSQL(sql1);
    console.log(data);

    var table = $("#allEmpTable").DataTable({
    });


    $(".dialogEmp").dialog({
        autoOpen: true,
        width: 900,
        height: 700,
        title: "Select Employee ",
    });
    $("#myForm").dialog({
        //autoOpen: true,
        width: 900,
        height: 700,
        title: "Select Employee ",
    });
    $("#choose").click(function () {
        $(".dialogEmp").dialog("open");
    });
    $("#tabs-1 .rootTable").DataTable({
        data: data,
        columns: [
            { data: "Id" },
            {
                data: "dateFrom", 
                render: (e) => 
                {
                    return (e != null ? e.substr(0, 10) : null);
                }
            },
            //{data:"dateTo"},
            { data: "employeeId" },
            { data: "daysNum" },
            { data: "timeFrom" },
            { data: "timeTo" },
        ]
    });
    //#result
</script>
